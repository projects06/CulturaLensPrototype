<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CulturaLens â€“ Mini MVP</title>
<style>
.pill,.tag,footer{color:var(--muted)}body,h1{margin:0}.grid,.tabs{display:grid}.card,h1{display:flex}.pill,.tag{font-size:12px}.card,.thumb{overflow:hidden}.tabbtn,.thumb,button{cursor:pointer}:root{--bg:#fffdf6;--ink:#1a1a1a;--muted:#6b7280;--brand:#b45309;--card:#ffffff;--ring:#e5e7eb}*{box-sizing:border-box}body{font:16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}header{top:0;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--ring)}.wrap{max-width:1100px;margin:auto;padding:16px}h1{font-size:22px;align-items:center;gap:8px}.tag{padding:3px 8px;border:1px solid var(--ring);border-radius:999px}.hero,footer{padding:20px}.card,.hero,.tabbtn,button,input,select{border:1px solid var(--ring)}.hero{background:#fff;border-radius:16px;margin:16px 0}.tabbtn,button,input,select{padding:10px 12px;background:#fff}.tabs{grid-template-columns:repeat(4,1fr);gap:8px}.tabbtn,button,input,select{border-radius:10px}.tabbtn.active{background:#111;color:#fff}.grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}.card{background:var(--card);border-radius:14px;flex-direction:column}.card img{width:100%;height:150px;object-fit:cover}.card .pad{padding:12px}.pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--ring);margin-right:6px}.row{display:flex;gap:12px;align-items:center}button.primary{background:var(--brand);color:#fff;border-color:#a16207}footer{border-top:1px solid var(--ring);text-align:center;margin-top:24px}.hidden{display:none}.gallery{display:flex;gap:8px;margin-top:8px}.thumb{width:90px;height:60px;border:1px solid var(--ring);border-radius:8px}.thumb img{width:100%;height:100%;object-fit:cover}.table{width:100%;border-collapse:collapse}.table td{border-bottom:1px solid var(--ring);padding:8px}#cart-container{overflow-y:auto}.header-actions{margin-left:auto;gap:8px}@media (max-width:900px){.tabs{grid-template-columns:repeat(2,1fr)}.grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}@media (max-width:600px){header .row{flex-direction:column;align-items:flex-start;gap:10px}header input{width:100%!important;min-width:0}.tabs{grid-template-columns:1fr 1fr;gap:6px}#market .grid,.grid{grid-template-columns:1fr}.card img{height:180px}.row{flex-wrap:wrap}#cart-container{max-height:unset}footer{font-size:14px;padding:14px}.header-actions{margin-left:0!important;width:100%;gap:10px}.header-actions input{flex:1;min-width:0}}@media (max-width:400px){h1{font-size:18px}.tabbtn{padding:8px;font-size:14px}.pill{font-size:11px;padding:2px 6px}button,input,select{padding:8px 10px;font-size:14px}}@media (max-width:900px){#market .grid,#tour .grid{grid-template-columns:1fr!important}#market .grid .card,#tour .grid .card{margin-bottom:12px}}button{position:relative;transition:transform .1s,box-shadow .1s}@keyframes clickPulse{0%,100%{transform:scale(1)}50%{transform:scale(.94)}}button.clicked{animation:.18s clickPulse}#cart-card{height:300px}

</style>
</head>
<body>
<header>
  <div class="wrap row">
    <h1>ðŸ›• CulturaLens <span class="tag">MiniÂ MVP</span></h1>
      <div class="row header-actions"></div>
      <input id="search" placeholder="Search (e.g., Golden Temple, Bhangra, Phulkari)" style="min-width:320px" />
      <button id="contributeBtn">âž• Contribute</button>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="hero">
    <h2 style="margin:0 0 6px">Preserve â€¢ Experience â€¢ Empower</h2>
    <p class="muted" style="margin:0;color:var(--muted)">A singleâ€‘file prototype showing Explore, Virtual Tour, Learn (quiz), and a small Artisan Marketplace for <b>Punjab (and other states later)</b>.</p>
  </section>

  <nav class="tabs">
    <button class="tabbtn active" data-tab="explore">Explore</button>
    <button class="tabbtn" data-tab="tour">Virtual Tour</button>
    <button class="tabbtn" data-tab="learn">Learn</button>
    <button class="tabbtn" data-tab="market">Marketplace</button>
  </nav>

  <!-- EXPLORE -->
  <section id="explore" class="tabpage" style="margin-top:14px">
    <div class="row" style="gap:8px;margin-bottom:12px">
      <select id="cat">
        <option value="All">All Categories</option>
        <option>Monument</option>
        <option>Performing Art</option>
        <option>Craft</option>
        <option>Festival</option>
        <option>Cuisine</option>
      </select>
      <button id="reset">Reset Filters</button>
    </div>
    <div id="exploreGrid" class="grid"></div>
  </section>

  <section id="tour" class="tabpage hidden" style="margin-top:14px">
    <div class="grid" style="grid-template-columns:2fr 1fr">
      <div class="card">
        <img id="heroImg" src="https://plus.unsplash.com/premium_photo-1697730478835-e7764928862c?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGdvbGRlbiUyMHRlbXBsZXxlbnwwfHwwfHx8MA%3D%3D" alt="Golden Temple" />
        <div class="pad">
          <h3 style="margin:0">Immersive Tour (Prototype)</h3>
          <p class="muted" style="color:var(--muted)">360Â° viewer placeholder</p>
          <div class="gallery" id="gallery"></div>
          <div class="row" style="margin-top:8px">
            <button class="primary">Download Tour (demo)</button>
          </div>
        </div>
      </div>
      <div class="card"><div class="pad">
        <h3 style="margin-top:0">Why it matters</h3>
        <ul>
          <li>Inclusive access for remote learners</li>
          <li>Reduces wear on fragile sites via virtual visits</li>
          <li>Sparks curiosity before onâ€‘site tourism</li>
        </ul>
      </div></div>
    </div>
  </section>

  <!-- LEARN / QUIZ -->
  <section id="learn" class="tabpage hidden" style="margin-top:14px">
    <div class="card"><div class="pad">
      <h3 style="margin-top:0">Cultural Quiz (Punjab)</h3>
      <div id="quiz"></div>
    </div></div>
  </section>

  <!-- MARKETPLACE -->
  <section id="market" class="tabpage hidden" style="margin-top:14px">
    <div class="grid" style="grid-template-columns:2fr 1fr">
      <div id="shop" class="grid"></div>
      <div class="card">
  <div class="pad" style="display:flex; flex-direction:column; height:100%;">
        <h3 style="margin-top:0">Cart</h3>
        <table class="table" id="cart"></table>
        <div class="row" style="justify-content:space-between;margin-top:8px"><b>Total</b><b id="total">â‚¹0</b></div>
        <button class="primary" style="width:100%;margin-top:10px">Checkout (demo)</button>
      </div></div>
    </div>
    </div>
  </section>
</main>

<footer>Built for Hackathon â€¢ Punjab Focus â€¢ Prototype Only</footer>

<script>

document.querySelectorAll("button").forEach((t) => {
    t.addEventListener("click", () => {
        t.classList.remove("clicked"), t.offsetWidth, t.classList.add("clicked");
    });
});
const ITEMS = [
        {
            id: 1,
            name: "Golden Temple (Harmandir Sahib)",
            cat: "Monument",
            img: "https://plus.unsplash.com/premium_photo-1697730478835-e7764928862c?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGdvbGRlbiUyMHRlbXBsZXxlbnwwfHwwfHx8MA%3D%3D",
            blurb: "Sikhismâ€™s holiest gurdwara in Amritsar, famed for its gilded sanctum.",
        },
        { id: 2, name: "Bhangra", cat: "Performing Art", img: "https://www.shutterstock.com/image-photo/closeup-man-playing-traditional-punjabi-600nw-2652512585.jpg", blurb: "Highâ€‘energy folk dance celebrating harvest and community." },
        {
            id: 3,
            name: "Phulkari Embroidery",
            cat: "Craft",
            img: "https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcTJP-nhuRxHE8Q_FTrmhHD1JqJwrHaow1n615Ff4OxLHbgDODiHL4Rd621GVBdAQQAPCAXzZwkVwbDB8_glQqGMkX53No_rUHKr_uUAlmfjisRqtMU",
            blurb: "Vibrant floral embroidery tradition symbolising prosperity.",
        },
        { id: 4, name: "Lohri Festival", cat: "Festival", img: "https://www.theindianpanorama.news/wp-content/uploads/2021/01/lori-648x381.jpg", blurb: "Bonfires, folk songs, and sweets mark the end of winter." },
        { id: 5, name: "Sarson da Saag & Makki di Roti", cat: "Cuisine", img: "https://images.unsplash.com/photo-1490474418585-ba9bad8fd0ea?q=80&w=1200&auto=format&fit=crop", blurb: "A quintessential Punjabi meal enjoyed in winters." },
    ],
    TOUR_IMGS = [
        "https://plus.unsplash.com/premium_photo-1697730478835-e7764928862c?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGdvbGRlbiUyMHRlbXBsZXxlbnwwfHwwfHx8MA%3D%3D",
        "https://media.assettype.com/theleaflet/import/wp-content/uploads/2021/09/120337061_gettyimages-1234943959-594x594-1.jpeg?w=1200&h=675&auto=format%2Ccompress&fit=max&enlarge=true",
        "https://www.trawell.in/admin/images/upload/597529728Amritsar_Wagah_Border_Main.jpg",
    ],
    QUIZ = [
        { q: "Which city houses the Golden Temple?", options: ["Ludhiana", "Jalandhar", "Amritsar", "Patiala"], correct: 2 },
        { q: "Phulkari is primarily aâ€¦", options: ["Dance", "Embroidery", "Percussion instrument", "Sweet"], correct: 1 },
        { q: "Lohri is celebrated to markâ€¦", options: ["Onset of monsoon", "End of winter/harvest", "New academic year", "Sikh New Year"], correct: 1 },
    ],
    SHOP = [
        { id: "s1", title: "Phulkari Dupatta", price: 1199, maker: "Patiala Women Coâ€‘op", img: "https://images.jdmagicbox.com/quickquotes/images_main/bridal-mirror-work-phulkari-dupatta-multicolor-2228764299-592p1lya.jpg" },
        { id: "s2", title: "Dholki", price: 699, maker: "Amritsar Crafts", img: "https://5.imimg.com/data5/SELLER/Default/2021/4/TB/OS/QO/4393887/punjabi-dholki-jr.jpg" },
        { id: "s3", title: "Punjabi Jutti", price: 2249, maker: "Ludhiana Artistry", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoDXT1SAkXVLP9QjmVouPtMnoMlDLfehK1wQ&s" },
    ],
    tabs = document.querySelectorAll(".tabbtn"),
    pages = { explore: document.getElementById("explore"), tour: document.getElementById("tour"), learn: document.getElementById("learn"), market: document.getElementById("market") };
tabs.forEach((t) =>
    t.addEventListener("click", () => {
        tabs.forEach((t) => t.classList.remove("active")), t.classList.add("active"), Object.values(pages).forEach((t) => t.classList.add("hidden")), pages[t.dataset.tab].classList.remove("hidden");
    })
);
const grid = document.getElementById("exploreGrid"),
    q = document.getElementById("search"),
    cat = document.getElementById("cat"),
    reset = document.getElementById("reset");
    function drawExplore() {
    const t = q.value.toLowerCase(),
        e = cat.value,
        a = ITEMS.filter((a) => ("All" === e || a.cat === e) && (a.name.toLowerCase().includes(t) || a.blurb.toLowerCase().includes(t)));
    grid.innerHTML = a
        .map(
            (t) =>
                `
    <div class="card">
      <img src="${t.img}" alt="${t.name}"/>
      <div class="pad">
        <h3 style="margin:0 0 4px">${t.name}</h3>
        <p class="muted" style="margin:0;color:var(--muted)">${t.blurb}</p>
        <div style="margin-top:8px"><span class="pill">${t.cat}</span><span class="pill">Punjab</span></div>
        <div class="row" style="margin-top:10px">
          ${t.id === 1 ? `<button class="primary" onclick="window.location.href='ar-viewer.html'">View AR</button>` : `<button class="primary" disabled>AR (N/A)</button>`}
          <button>Save</button>
        </div>
      </div>
    </div>`
        )
        .join("");
}
[q, cat].forEach((t) => t.addEventListener("input", drawExplore)),
    reset.addEventListener("click", () => {
        (q.value = ""), (cat.value = "All"), drawExplore();
    }),
    drawExplore();
const hero = document.getElementById("heroImg"),
    gal = document.getElementById("gallery");
(hero.src = TOUR_IMGS[0]),
    TOUR_IMGS.forEach((t, e) => {
        const a = document.createElement("div");
        (a.className = "thumb"),
            (a.innerHTML = `<img src="${t}">`),
            (a.onclick = () => {
                hero.src = t;
            }),
            gal.appendChild(a);
    });
const quizRoot = document.getElementById("quiz");
let step = 0,
    score = 0;
function drawQ() {
    if (step >= QUIZ.length)
        return (
            (quizRoot.innerHTML = `<p><b>Your Score:</b> ${score}/${QUIZ.length}</p>\n    <div class='row'><button class='primary' id='again'>Retake</button><progress max='100' value='100' style='width:160px'></progress></div>`),
            void (document.getElementById("again").onclick = () => {
                (step = 0), (score = 0), drawQ();
            })
        );
    const t = QUIZ[step];
    (quizRoot.innerHTML =
        `<p><b>Q${step + 1}.</b> ${t.q}</p>` +
        t.options.map((t, e) => `<button data-i='${e}' style='display:block;margin:6px 0;width:100%'>${t}</button>`).join("") +
        `<div style='margin-top:8px'><progress max='100' value='${(step / QUIZ.length) * 100}' style='width:100%'></progress></div>`),
        [...quizRoot.querySelectorAll("button[data-i]")].forEach(
            (e) =>
                (e.onclick = () => {
                    +e.dataset.i === t.correct && score++, step++, drawQ();
                })
        );
}
drawQ();
const shop = document.getElementById("shop"),
    cartTbl = document.getElementById("cart"),
    totalEl = document.getElementById("total"),
    cart = {};
function drawShop() {
    (shop.innerHTML = SHOP.map(
        (t) =>
            `\n    <div class='card'>\n      <img src='${t.img}' alt='${t.title}'>\n      <div class='pad'>\n        <h3 style='margin:0 0 4px'>${t.title}</h3>\n        <p class='muted' style='margin:0;color:var(--muted)'>by ${t.maker}</p>\n        <div class='row' style='justify-content:space-between;margin-top:8px'><span class='pill'>â‚¹${t.price}</span><button class='primary' data-id='${t.id}'>Add to cart</button></div>\n      </div>\n    </div>`
    ).join("")),
        [...shop.querySelectorAll("button[data-id]")].forEach(
            (t) =>
                (t.onclick = () => {
                    const e = t.dataset.id;
                    (cart[e] = (cart[e] || 0) + 1), drawCart();
                })
        );
}
function drawCart() {
    const t = SHOP.filter((t) => cart[t.id])
        .map((t) => `<tr><td>${t.title} Ã— ${cart[t.id]}</td><td style='text-align:right'>â‚¹${cart[t.id] * t.price}</td></tr>`)
        .join("");
    cartTbl.innerHTML = t || "<tr><td colspan='2' class='muted'>Your cart is empty.</td></tr>";
    const e = SHOP.reduce((t, e) => t + (cart[e.id] || 0) * e.price, 0);
    totalEl.textContent = "â‚¹" + e;
}
drawShop(),
    drawCart(),
    shop.addEventListener("click", (t) => {
        const e = t.target.closest("button[data-id]");
        e && (e.classList.remove("clicked"), e.offsetWidth, e.classList.add("clicked"));
    });
const btn = document.getElementById("contributeBtn");
btn.addEventListener("click", () => {
    const t = prompt("Title of your story/artifact:");
    if (!t) return;
    const e = { id: Date.now(), name: t, cat: "Community", img: "https://www.shutterstock.com/shutterstock/videos/1111389205/thumb/12.jpg?ip=x480", blurb: "Communityâ€‘submitted heritage memory." };
    ITEMS.unshift(e), drawExplore(), alert("Thank you for contributing! (demo)");
});

</script>
</body>
</html>